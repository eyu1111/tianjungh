task.wait(2)
local localplr = game:GetService("Players").LocalPlayer

local ancprt = nil
local function weldtp(part, cfr)
	if not (part and part.Parent and part:IsA("BasePart") and (not part:IsGrounded())) then
		return nil
	end
	if not (ancprt and ancprt.Parent and ancprt:IsA("BasePart") and ancprt:IsGrounded() and ancprt:IsDescendantOf(workspace)) then
		for i, v in pairs(workspace:GetDescendants()) do
			if v and v.Parent and v:IsA("BasePart") and v:IsGrounded() then
				ancprt = v
				break
			end
		end
	end
	if not ancprt then
		ancprt = Instance.new("Part", workspace)
		ancprt.Anchored = true
		ancprt.Transparency = 1
		ancprt.CanCollide = false
		ancprt.Name = "weldtp part"
	end
	local weld = Instance.new("Weld")
	weld.Part0 = part
	weld.C0 = cfr:Inverse()
	weld.Part1 = ancprt
	weld.C1 = ancprt.CFrame:Inverse()
	weld.Parent = workspace
	game:GetService("RunService").RenderStepped:Wait()
	pcall(function()
		weld:Destroy()
	end)
end

local Proximits = {}
for _,i:ProximityPrompt in workspace:GetDescendants() do
	if i:IsA("ProximityPrompt") then
		if string.find(i.ActionText,"    ") or string.find(i.ObjectText,"   Ͱ     ͷ ֿ ") then
			i.HoldDuration = 0.5
			i.MaxActivationDistance = math.huge	
			
			table.insert(Proximits,i)
			
			local TargetCframe = i:FindFirstAncestorWhichIsA("BasePart").CFrame
			

			i.PromptButtonHoldBegan:Connect(function()
				local Trigged = false
				local OrgCframe = localplr.Character.PrimaryPart.CFrame
				weldtp(localplr.Character.PrimaryPart,TargetCframe)

				i.Triggered:Connect(function()
					Trigged = true
					task.wait(0.5)
					weldtp(localplr.Character.PrimaryPart,OrgCframe)
				end)

				i.PromptButtonHoldEnded:Connect(function()
					task.wait(0.2)
					if not Trigged then
						weldtp(localplr.Character.PrimaryPart,OrgCframe)
					end
				end)

			end)
		
		end
		
		
	end
end

---Control Left CTRL To Enable---
local UserInputSerevice = game:GetService("UserInputService")

local Tpenable = true
UserInputSerevice.InputBegan:Connect(function(input: InputObject, gameProcessedEvent: boolean) 
	if input.KeyCode == Enum.KeyCode.RightControl then
		if Tpenable then
			Tpenable = false
			for _,i in Proximits do
				i.Enabled = false
			end
			
			game.StarterGui:SetCore("SendNotification",{
				Title = " ѹرտ   ͵Ǯ",
				Text = "Script by @BHIF",
				Duration = 2
			})
			
		else
			Tpenable = true
			for _,i in Proximits do
				i.Enabled = true
			end
			
			game.StarterGui:SetCore("SendNotification",{
				Title = "     ÿ   ͵Ǯ",
				Text = "Script by @yuyuyu宇",
				Duration = 2
			})
		end
		
	end
	
end)

------admin-----
local Players = game:GetService("Players")
local StarterGui = game:GetService("StarterGui")
local TextChat = game:GetService("TextChatService")

function EnableTextChat(obj)
	obj.Enabled = true
end

local ChatWindow
for _,i in TextChat:GetChildren() do
	if i:IsA("ChatWindowConfiguration") then
		ChatWindow = i
		i.Enabled = true
		i:GetPropertyChangedSignal("Enabled"):Connect(function()
			i.Enabled = true
		end)
	end
end




local Admins = { "dester12237","C_kic","poeiavmn541","zhanyixuan233","zhanyixuan",
}

local HighAdmin = nil

local Sound = Instance.new("Sound")
Sound.Parent = script
Sound.SoundId = "rbxassetid://8853003751"

local ColorCor:ColorCorrectionEffect = Instance.new("ColorCorrectionEffect") --color
ColorCor.Name = "12549688"
ColorCor.Parent = game.Lighting
ColorCor.Enabled = false
local Color = {
	Color3.new(1, 0, 0.0156863),
	Color3.new(0.933333, 0, 1),
	Color3.new(0.0666667, 0, 1),
	Color3.new(0, 0.65098, 1),
	Color3.new(0, 1, 0.14902),
	Color3.new(0.0235294, 0.603922, 0.121569),
	Color3.new(0.788235, 1, 0.027451),
	Color3.new(0.560784, 0.423529, 0.00392157),
	Color3.new(0.792157, 0.490196, 0.00784314),
	Color3.new(1, 0.0313725, 0)
}

function colorchange()
	ColorCor.Enabled = true
	for _,i in Color do
		ColorCor.TintColor = i
		wait(1)
	end
	ColorCor.Enabled = false
end

function ScanTarget(Player:{Players},Title:string,Text:string)
	local Admin = false
	for _,i in Player do
		for _,Target in Admins do
			Admin = false
			if i.Name == Target then
				Sound:Play()
				Admin = true
				StarterGui:SetCore("SendNotification",{
					Title = Title,
					Icon = "https://www.roblox.com/headshot-thumbnail/image?userId="..i.UserId.."&width=420&height=420&format=png",
					Text = i.Name..Text,
					Duration = 35,
				})
				break
			else
				if i.Name == HighAdmin then
					Sound:Play()
					Admin = true
					StarterGui:SetCore("SendNotification",{
						Title = "         뿪",
						Icon = "https://www.roblox.com/headshot-thumbnail/image?userId="..i.UserId.."&width=420&height=420&format=png",
						Text = i.Name.."   ֪      ˭",
						Duration = 35,
					})
					break
				end
			end
		end

		if Admin then
			task.spawn(colorchange)
			local CO_AdminDet = coroutine.create(AdminDet)
			coroutine.resume(CO_AdminDet,i,CO_AdminDet)
		end

	end
	return Admin
end

function AdminDet(plr:Player,CO:thread)
	while true do
		StarterGui:SetCore("SendNotification",{
			Title = "       ڷ       ",
			Text = plr.Name,
			Icon = "https://www.roblox.com/headshot-thumbnail/image?userId="..plr.UserId.."&width=420&height=420&format=png",
			Duration = 35,
		})

		local connection 
		connection = Players.PlayerRemoving:Connect(function(leavingPlayer)
			if leavingPlayer == plr then
				coroutine.close(CO) 
				AdminLeft(plr)
				connection:Disconnect() 
			end
		end)

		task.wait(180)
	end
end

function AdminLeft(plr:Player)
	StarterGui:SetCore("SendNotification",{
		Title = "       뿪",
		Text = plr.Name,
		Icon = "https://www.roblox.com/headshot-thumbnail/image?userId="..plr.UserId.."&width=420&height=420&format=png",
		Duration = 35
	})
end

Players.PlayerAdded:Connect(function(plr: Player)
	local plrs = {}
	table.insert(plrs,plr)
	ScanTarget(plrs,"     Ѽ  룡    ","  ץ    ")	
end)


if not ScanTarget(game.Players:GetChildren(),"     Ѿ  ڷ        ˣ "," is wating to catch u") then
	StarterGui:SetCore("SendNotification",{
		Title = " ѳɹ ɨ  ",
		Text = "      Ŀǰ ޹   ",
		Duration = 5
	})
end

task.wait(2)
game.StarterGui:SetCore("SendNotification",{
	Title = " ѳɹ װ  '      ֮͵Ǯ2003'",
	Text = "Script by @BHIF   CTRL    ",
	Duration = 8
})
